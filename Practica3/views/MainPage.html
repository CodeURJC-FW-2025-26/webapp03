<!DOCTYPE html>
<html>

<head>
    <title> MAESTROS DE LA COCINA </title>
    <!--Bootstrap-->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <!--CSS Styles-->
    <link type="text/css" rel="stylesheet" href="/Styles.css">
    <!--Fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fugaz+One&family=Questrial&display=swap" rel="stylesheet">
    <!--Public app.js-->
    <script src="/app.js"></script>
</head> 

<body>

    {{>Header}}

    <div id="page-vars" data-main-page="true" data-search-query="{{searchQuery}}" data-section="{{section}}"></div> <!-- with this app.js can access page variables -->
    
    <div class="container-fluid text-center">
        <div class="row p-3">
            <form class="d-flex" role="search" method="get" action="/searchBar">
                <input class="form-control" name="searchQuery" type="search" placeholder="Buscar..." required>
                <button class="form-group btn btn-primary" type="submit"><i class="bi bi-search"></i></button>
            </form>

            <form class="d-flex flex-wrap justify-content-center" role="search" method="get" action="/searchSection">
                <button class="form-group btn btn-primary {{#starter}}active{{/starter}}" type="submit" name="section" value="Guarnición"><i class="bi bi-search"> Guarnición </i></button>
                <button class="form-group btn btn-primary {{#side}}active{{/side}}" type="submit" name="section" value="Primer"><i class="bi bi-search"> Primer plato </i></button>
                <button class="form-group btn btn-primary {{#main}}active{{/main}}" type="submit" name="section" value="Segundo"><i class="bi bi-search"> Segundo Plato </i></button>
                <button class="form-group btn btn-primary {{#dessert}}active{{/dessert}}" type="submit" name="section" value="Postre"><i class="bi bi-search"> Postre </i></button>
            </form>
        </div>

        <div class="row-1 p-3 text-end">
            <a href="/NewItemPage" class="btn btn-primary" role="button"> <i class="bi bi-plus-lg"></i> Crear nueva receta </a>
        </div>

        <div class="row p-3" id="recipesGrid">
            {{#recipes}}
            <div class="col-xs-12 col-sm-6 col-md-6 col-lg-4">
                <a href="/DetailPage/{{_id}}" class="btn btn-primary" role="button">
                    {{#image}}<img class="img-fluid" src="/recipe/{{_id}}/image" alt="{{name}}">{{/image}}
                    {{name}}
                </a>
            </div>
            {{/recipes}}
        </div>

        <!--Spinner-->
        <div id="Spinner" class="spinner-border text-primary" role="status" style="display:none;">
            <span class="visually-hidden">Procesando...</span>
        </div>
    </div>

    {{>Footer}}
    
</body>
</html>
